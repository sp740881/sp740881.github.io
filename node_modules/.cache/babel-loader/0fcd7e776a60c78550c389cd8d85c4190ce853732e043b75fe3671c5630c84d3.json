{"ast":null,"code":"import { FOCUS_AUTO } from '../constants';\nimport { toArray } from './array';\nimport { tabbables } from './tabbables';\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = \"\".concat(queryTabbables, \", [data-focus-guard]\");\nvar getFocusablesWithShadowDom = function getFocusablesWithShadowDom(parent, withGuards) {\n  var _a;\n  return toArray(((_a = parent.shadowRoot) === null || _a === void 0 ? void 0 : _a.children) || parent.children).reduce(function (acc, child) {\n    return acc.concat(child.matches(withGuards ? queryGuardTabbables : queryTabbables) ? [child] : [], getFocusablesWithShadowDom(child));\n  }, []);\n};\nvar getFocusablesWithIFrame = function getFocusablesWithIFrame(parent, withGuards) {\n  if (parent instanceof HTMLIFrameElement && parent.contentDocument) {\n    return getFocusables([parent.contentDocument.body], withGuards);\n  }\n  return [parent];\n};\nexport var getFocusables = function getFocusables(parents, withGuards) {\n  return parents.reduce(function (acc, parent) {\n    var _a;\n    var focusableWithShadowDom = getFocusablesWithShadowDom(parent, withGuards);\n    var focusableWithIframes = (_a = []).concat.apply(_a, focusableWithShadowDom.map(function (node) {\n      return getFocusablesWithIFrame(node, withGuards);\n    }));\n    return acc.concat(\n    // add all tabbables inside and within shadow DOMs in DOM order\n    focusableWithIframes,\n    // add if node is tabbable itself\n    parent.parentNode ? toArray(parent.parentNode.querySelectorAll(queryTabbables)).filter(function (node) {\n      return node === parent;\n    }) : []);\n  }, []);\n};\n/**\n * return a list of focusable nodes within an area marked as \"auto-focusable\"\n * @param parent\n */\nexport var getParentAutofocusables = function getParentAutofocusables(parent) {\n  var parentFocus = parent.querySelectorAll(\"[\".concat(FOCUS_AUTO, \"]\"));\n  return toArray(parentFocus).map(function (node) {\n    return getFocusables([node]);\n  }).reduce(function (acc, nodes) {\n    return acc.concat(nodes);\n  }, []);\n};","map":{"version":3,"names":["FOCUS_AUTO","toArray","tabbables","queryTabbables","join","queryGuardTabbables","concat","getFocusablesWithShadowDom","parent","withGuards","_a","shadowRoot","children","reduce","acc","child","matches","getFocusablesWithIFrame","HTMLIFrameElement","contentDocument","getFocusables","body","parents","focusableWithShadowDom","focusableWithIframes","apply","map","node","parentNode","querySelectorAll","filter","getParentAutofocusables","parentFocus","nodes"],"sources":["C:/Users/91740/Desktop/Portfolio/portfolio/node_modules/focus-lock/dist/es2015/utils/tabUtils.js"],"sourcesContent":["import { FOCUS_AUTO } from '../constants';\nimport { toArray } from './array';\nimport { tabbables } from './tabbables';\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = \"\".concat(queryTabbables, \", [data-focus-guard]\");\nvar getFocusablesWithShadowDom = function (parent, withGuards) {\n    var _a;\n    return toArray(((_a = parent.shadowRoot) === null || _a === void 0 ? void 0 : _a.children) || parent.children).reduce(function (acc, child) {\n        return acc.concat(child.matches(withGuards ? queryGuardTabbables : queryTabbables) ? [child] : [], getFocusablesWithShadowDom(child));\n    }, []);\n};\nvar getFocusablesWithIFrame = function (parent, withGuards) {\n    if (parent instanceof HTMLIFrameElement && parent.contentDocument) {\n        return getFocusables([parent.contentDocument.body], withGuards);\n    }\n    return [parent];\n};\nexport var getFocusables = function (parents, withGuards) {\n    return parents.reduce(function (acc, parent) {\n        var _a;\n        var focusableWithShadowDom = getFocusablesWithShadowDom(parent, withGuards);\n        var focusableWithIframes = (_a = []).concat.apply(_a, focusableWithShadowDom.map(function (node) { return getFocusablesWithIFrame(node, withGuards); }));\n        return acc.concat(\n        // add all tabbables inside and within shadow DOMs in DOM order\n        focusableWithIframes, \n        // add if node is tabbable itself\n        parent.parentNode\n            ? toArray(parent.parentNode.querySelectorAll(queryTabbables)).filter(function (node) { return node === parent; })\n            : []);\n    }, []);\n};\n/**\n * return a list of focusable nodes within an area marked as \"auto-focusable\"\n * @param parent\n */\nexport var getParentAutofocusables = function (parent) {\n    var parentFocus = parent.querySelectorAll(\"[\".concat(FOCUS_AUTO, \"]\"));\n    return toArray(parentFocus)\n        .map(function (node) { return getFocusables([node]); })\n        .reduce(function (acc, nodes) { return acc.concat(nodes); }, []);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}